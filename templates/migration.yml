# DO NOT EDIT THIS FILE. CHANGES WILL BE OVERIDDEN
# mandatory env settings are shown below (commented out)
# these env settings need to be set in your .px-deploy/defaults.yml
description: Deploys 2 clusters with Portworx, sets up and configures a cluster pairing, and deploys a set of apps and a migration template.
clusters: 2
cloud: aws
scripts: ["install-awscli", "install-px"]
cluster:
  - id: 1
    scripts: []
  - id: 2
    scripts: ["clusterpair"]
env:
  #DR_BUCKET: "<YOUR BUCKET NAME>"

# NOTE - the cluster pair and migration template are created in the kube-system namespace
# Verify all is installed correctly with `storkctl get clusterpair -n kube-system` You should see Ready for storage and scheduler
# Deploy your choice of application(s) from the /assets directory - create mutliple namespaces if you wish
# Add some sample data either using a CLI or web interface
# Edit the migration template to add the namespaces you created, if you did so
# Apply the migration template `/assets/app-migration.yml`
# Verify resources including the data you added are cloned to the second cluster
